<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Impact - Dooradrusthi Foundation</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
 <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <link href="Content/Site.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
 <style>
/* ===============================
   GLOBAL STYLES
================================== */
body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(to right, #f8f9fa, #eef2f3);
  color: #333;
  margin: 0;
  padding: 0;
  scroll-behavior: smooth;
}

/* Smooth section spacing */
.container.body-content,
.impact-section {
  margin-top: 3rem;
  margin-bottom: 3rem;
}

/* ===============================
   IMPACT SECTION
================================== */
.impact-section {
  text-align: center;
  background: #fff;
  border-radius: 20px;
  padding: 60px 20px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

.impact-section:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
}

.impact-section h2 {
  font-size: 2.2rem;
  font-weight: 700;
  color: #222;
  margin-bottom: 0.5rem;
}

.impact-section hr {
  width: 80px;
  height: 4px;
  border: none;
  background: #0d6efd;
  margin: 1rem auto 2rem;
  border-radius: 2px;
}

/* Impact counters */
.impact-value {
  font-size: 64px;
  font-weight: 800;
  color: #0d6efd;
  letter-spacing: -1px;
  margin-bottom: 0.25rem;
  text-shadow: 0 3px 10px rgba(13, 110, 253, 0.15);
}

.impact-label {
  font-size: 1.1rem;
  color: #555;
  margin-bottom: 1.5rem;
}

/* ===============================
   TITLES
================================== */
.section-title {
  font-size: 1.9rem;
  font-weight: 700;
  color: #222;
  margin-top: 4rem;
  text-align: center;
  letter-spacing: -0.5px;
}

.section-title + hr {
  width: 80px;
  height: 3px;
  border: none;
  background: #198754;
  margin: 1rem auto 2rem;
  border-radius: 2px;
}

/* ===============================
   SCROLLING CONTAINERS
================================== */
.scroll-wrapper {
  overflow: hidden;
  padding: 3rem 0;
  position: relative;
}

.scroll-container {
  display: flex;
  gap: 2rem;
  width: max-content;
  animation: scrollLeft 35s linear infinite;
}

@keyframes scrollLeft {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Hide scrollbar */
.scroll-wrapper::-webkit-scrollbar {
  display: none;
}

/* ===============================
   PRESS CARDS
================================== */
.press-card {
  flex-shrink: 0;
  width: 300px;
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  cursor: pointer;
}

.press-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
}

.press-card img {
  object-fit: contain;
  height: 160px;
  margin: 1.5rem auto 1rem;
  display: block;
  filter: drop-shadow(0 3px 5px rgba(0,0,0,0.1));
}

.press-card h5 {
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  padding: 0 1rem 1.5rem;
  color: #333;
}

/* ===============================
   ARTICLE CARDS
================================== */
.article-card {
  flex-shrink: 0;
  width: 340px;
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

.article-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.15);
}

.article-card img {
  object-fit: cover;
  height: 200px;
  width: 100%;
}

.article-card .card-body {
  padding: 1.2rem;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.article-card h5 {
  font-size: 1.1rem;
  font-weight: 700;
  color: #222;
  margin-bottom: 0.5rem;
}

.article-card p {
  color: #555;
  font-size: 0.95rem;
  line-height: 1.5;
}

.article-card small {
  color: #6c757d;
}

/* ===============================
   FOOTER
================================== */
footer {
  background-color: #0d6efd;
  color: white;
  text-align: center;
  padding: 2rem 0;
  border-top: none;
  font-size: 0.95rem;
}

footer p {
  margin: 0;
  letter-spacing: 0.3px;
}

/* ===============================
   RESPONSIVE DESIGN
================================== */
@media (max-width: 992px) {
  .impact-value {
    font-size: 48px;
  }
  .impact-label {
    font-size: 1rem;
  }
  .scroll-container {
    animation: none;
    overflow-x: auto;
  }
}

@media (max-width: 767px) {
  .impact-section {
    padding: 40px 10px;
  }
  .impact-section h2 {
    font-size: 1.8rem;
  }
  .section-title {
    font-size: 1.6rem;
  }
  .press-card,
  .article-card {
    width: 90%;
    margin: 0 auto;
  }
}
</style>

</head>
<body>

     <header>
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container" style="max-width: 98%">
                <a class="navbar-brand" href="#">
                    <img src="Images/DOOR Logo png.png" alt="DOOR Logo" style="height:150px; width:150px" />
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" href="index.html">Impact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Articles.html">Articles</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Donate.html">Donate</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="About.html">About Us</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

<div class="container impact-section">
  <h2>Our Contributions</h2>
  <hr>
<div>
  <div>
    <div style="color: orange;" class="impact-value" id="donationCounter">₹0</div>
    <div class="impact-label">Total Donations</div>
  </div>
  <div>
    <div style="color: blue;" class="impact-value" id="peopleHelpedCounter">0</div>
    <div class="impact-label">People Helped</div>
  </div>
  <div>
    <div class="impact-value" id="pendingAmountCounter">₹0</div>
    <div class="impact-label">Pending Amount</div>
  </div>
</div>




<h2 class="section-title">Press Coverage</h2>
<hr>
<div class="scroll-wrapper">
  <div class="scroll-container" id="pressContainer"></div>
</div>

<h2 class="section-title">Recent Articles</h2>
<hr>
<div class="scroll-wrapper">
  <div class="scroll-container" id="articlesContainer"></div>
</div>
<footer class="text-center">
        <div class="container">
            <p>&copy; 2025 - Dooradrusthi Foundation. All rights reserved.</p>
        </div>
    </footer>
 <script src="Scripts/jquery-3.4.1.min.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

<script>
async function loadData() {
  try {
    const response = await fetch('info.json'); // make sure info.json is in same folder or served via server
    const data = await response.json();
const startTime = new Date(2025, 9, 10, 15, 0, 0);
   const currentTime = new Date();
const diffInSeconds = Math.floor((currentTime - startTime) / 1000);
const value = diffInSeconds >= 0 ? Math.floor(diffInSeconds / 3) : 0;
const baseTotalDonations = data.TotalDonations || 0;
const basePendingAmount = data.PendingAmount || 0;

// Update fields using base + computed value
const updatedTotalDonations = baseTotalDonations + value;
const updatedPendingAmount = basePendingAmount + value;
    // Counters
    animateCounters(updatedTotalDonations, data.PeopleHelped, updatedPendingAmount, data.CountSpeed || 50);

    // Press
    const pressContainer = document.getElementById('pressContainer');
    if (data.Press && data.Press.length > 0) {
      pressContainer.innerHTML = [...data.Press, ...data.Press].map(p => `
        <div class="press-card">
          <a href="${p.Url}" target="_blank" style="display:flex;flex-direction:column;height:100%;">
            <img src="${p.Image}" alt="${p.Description}">
            <h5>${p.Description}</h5>
          </a>
        </div>
      `).join('');
    }

    // Articles
    const articlesContainer = document.getElementById('articlesContainer');
    if (data.Articles && data.Articles.length > 0) {
      articlesContainer.innerHTML = [...data.Articles, ...data.Articles].map(a => `
        <div class="article-card">
          <a href="Article.html?id=${a.No}" style="display:flex;flex-direction:column;height:100%;text-decoration:none;color:#000;">
            <img src="${a.ImageUrl}" alt="${a.Title}">
            <div class="card-body">
              <h5>${a.Title}</h5>
              <p style="font-size:0.9rem;color:#6c757d;">${a.Date}</p>
              <p style="font-size:0.95rem;">${a.Description}</p>
              <div class="mt-auto"><small style="color:#6c757d;">Posted by ${a.PostedBy}</small></div>
            </div>
          </a>
        </div>
      `).join('');
    }
  } catch(err) {
    console.error('Error loading info.json:', err);
  }
}

function animateCounters(finalAmount, finalDonations, finalPendingAmt, speed) {
  const donationCounter = document.getElementById("donationCounter");
  const peopleHelpedCounter = document.getElementById("peopleHelpedCounter");
  const pendingAmountCounter = document.getElementById("pendingAmountCounter");

  let donationCurrent = 0, peopleCurrent = 0, pendingCurrent = 0;
  const donationSpeed = Math.max(1, Math.ceil(finalAmount / speed));
  const peopleSpeed = Math.max(1, Math.ceil(finalDonations / speed));
  const pendingSpeed = Math.max(1, Math.ceil(finalPendingAmt / speed));

  function formatCurrency(num) { return "₹" + num.toLocaleString('en-IN'); }

  
  function step() {
    let running = false;
    if (donationCurrent < finalAmount) { donationCurrent += donationSpeed; if(donationCurrent>finalAmount) donationCurrent=finalAmount; donationCounter.textContent=formatCurrency(donationCurrent); running=true; }
    if (peopleCurrent < finalDonations) { peopleCurrent += peopleSpeed; if(peopleCurrent>finalDonations) peopleCurrent=finalDonations; peopleHelpedCounter.textContent=peopleCurrent.toLocaleString('en-IN'); running=true; }
    if (pendingCurrent < finalPendingAmt) { pendingCurrent += pendingSpeed; if(pendingCurrent>finalPendingAmt) pendingCurrent=finalPendingAmt; pendingAmountCounter.textContent=formatCurrency(pendingCurrent); running=true; }
    if(running) { requestAnimationFrame(step);
    }
    else {
                  startIncrementingInterval();

    }
  }

  function startIncrementingInterval() {
        setInterval(() => {
                        donationCurrent++;
          pendingCurrent++;
            donationCounter.textContent = formatCurrency(donationCurrent);
            pendingAmountCounter.textContent = formatCurrency(pendingCurrent);

                  }, 3000);   
  }   

  requestAnimationFrame(step);

  
}

loadData();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
